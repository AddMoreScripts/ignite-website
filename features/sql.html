<!--
 ▄▄▄       ██▓███   ▄▄▄       ▄████▄   ██░ ██ ▓█████     ██▓  ▄████  ███▄    █  ██▓▄▄▄█████▓▓█████
▒████▄    ▓██░  ██▒▒████▄    ▒██▀ ▀█  ▓██░ ██▒▓█   ▀    ▓██▒ ██▒ ▀█▒ ██ ▀█   █ ▓██▒▓  ██▒ ▓▒▓█   ▀
▒██  ▀█▄  ▓██░ ██▓▒▒██  ▀█▄  ▒▓█    ▄ ▒██▀▀██░▒███      ▒██▒▒██░▄▄▄░▓██  ▀█ ██▒▒██▒▒ ▓██░ ▒░▒███
░██▄▄▄▄██ ▒██▄█▓▒ ▒░██▄▄▄▄██ ▒▓▓▄ ▄██▒░▓█ ░██ ▒▓█  ▄    ░██░░▓█  ██▓▓██▒  ▐▌██▒░██░░ ▓██▓ ░ ▒▓█  ▄
 ▓█   ▓██▒▒██▒ ░  ░ ▓█   ▓██▒▒ ▓███▀ ░░▓█▒░██▓░▒████▒   ░██░░▒▓███▀▒▒██░   ▓██░░██░  ▒██▒ ░ ░▒████▒
 ▒▒   ▓▒█░▒▓▒░ ░  ░ ▒▒   ▓▒█░░ ░▒ ▒  ░ ▒ ░░▒░▒░░ ▒░ ░   ░▓   ░▒   ▒ ░ ▒░   ▒ ▒ ░▓    ▒ ░░   ░░ ▒░ ░
  ▒   ▒▒ ░░▒ ░       ▒   ▒▒ ░  ░  ▒    ▒ ░▒░ ░ ░ ░  ░    ▒ ░  ░   ░ ░ ░░   ░ ▒░ ▒ ░    ░     ░ ░  ░
  ░   ▒   ░░         ░   ▒   ░         ░  ░░ ░   ░       ▒ ░░ ░   ░    ░   ░ ░  ▒ ░  ░         ░
      ░  ░               ░  ░░ ░       ░  ░  ░   ░  ░    ░        ░          ░  ░              ░  ░
-->

<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<!DOCTYPE html>
<html>
<head>
<link rel="canonical" href="https://ignite.apache.org/features/sql.html" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>In-Memory SQL Grid - Apache Ignite</title>
    <link media="all" rel="stylesheet" href="/css/all.css?v=1.6">
    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.css" rel="stylesheet">
    <link media="all" rel="stylesheet" href="/css/syntaxhighlighter.css">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic' rel='stylesheet' type='text/css'>

    <!--#include virtual="/includes/sh.html" -->
</head>
<body>
<div id="wrapper">
    <!--#include virtual="/includes/header.html" -->


    <main id="main" role="main" class="container">
        <section id="sql-queries" class="page-section">
            <h1 class="first">Distributed SQL Database</h1>
            <div class="col-sm-12 col-md-12 col-xs-12" style="padding:0 0 20px 0;">
                <div class="col-sm-6 col-md-7 col-xs-12" style="padding-left:0;">
                    <p>
                        Apache Ignite incorporates distributed SQL database capabilities as a part of its platform. The
                        database is horizontally scalable, fault tolerant and SQL ANSI-99 compliant. It supports all SQL
                        and DML commands including SELECT, UPDATE, INSERT, MERGE, and DELETE queries. It also provides
                        support for a subset of DDL commands relevant for distributed databases.
                    </p>
                    <p>
                        Data sets as well as indexes can be stored both in RAM and on disk thanks to the durable memory
                        architecture. This allows executing distributed SQL operations across different memory layers
                        achieving in-memory performance with durability of disk.
                    </p>
                    <p>
                        You can interact with Apache Ignite using SQL language via natively developed APIs for Java,
                        .NET and C++, or via the Ignite JDBC or ODBC drivers. This provides a true cross-platform
                        connectivity from languages such as PHP, Ruby and more.
                    </p>
                </div>

                <div class="col-sm-6 col-md-5 col-xs-12" style="padding-right:0">
                    <img class="img-responsive" src="/images/ignite-distributed-sql-database.png" width="400px" style="float:right;"/>
                </div>
            </div>

            <div class="code-examples">
                <div class="page-heading">SQL Query Examples</div>
                <!-- Nav tabs -->
                <ul id="sql-examples" class="nav nav-tabs">
                    <li class="active"><a href="#select" aria-controls="home" data-toggle="tab">SQL Query</a></li>
                    <li><a href="#collocated-join" aria-controls="profile" data-toggle="tab">Collocated Join</a></li>
                    <li><a href="#non-collocated-join" aria-controls="profile" data-toggle="tab">Non-Collocated Join</a></li>
                    <li><a href="#sql-fields-query" aria-controls="profile" data-toggle="tab">SQL Fields Query</a></li>
                </ul>

                <!-- Tab panes -->
                <div class="tab-content">
                    <div class="tab-pane active" id="select">
                        <pre class="brush:java">
                            IgniteCache&lt;Long, Person&gt; cache = ignite.cache("personCache");

                            SqlQuery sql = new SqlQuery(Person.class, "salary &gt; ?");

                            // Find all persons earning more than 1,000.
                            try (QueryCursor&lt;Entry&lt;Long, Person&gt;&gt; cursor = cache.query(sql.setArgs(1000))) {
                                for (Entry&lt;Long, Person&gt; e : cursor)
                                    System.out.println(e.getValue().toString());
                            }
                        </pre>
                    </div>
                    <div class="tab-pane" id="collocated-join">
                        <pre class="brush:java">
                            IgniteCache&lt;Long, Person&gt; cache = ignite.cache("personCache");

                            // SQL join on Person and Organization.
                            SqlQuery sql = new SqlQuery(Person.class,
                                "from Person as p, \"orgCache\".Organization as org"
                                + "where p.orgId = org.id "
                                + "and lower(org.name) = lower(?)");

                            // Find all persons working for Ignite organization.
                            try (QueryCursor&lt;Entry&lt;Long, Person&gt;&gt; cursor = cache.query(sql.setArgs("Ignite"))) {
                                for (Entry&lt;Long, Person&gt; e : cursor)
                                    System.out.println(e.getValue().toString());
                            }
                        </pre>
                    </div>
                    <div class="tab-pane" id="non-collocated-join">
                        <pre class="brush:java">
                            IgniteCache&lt;AffinityKey&lt;Long&gt;, Person&gt; cache = ignite.cache("personCache");

                            // SQL clause query with join over non-collocated data.
                            String joinSql =
                                "from Person, \"orgCache\".Organization as org " +
                                "where Person.orgId = org.id " +
                                "and lower(org.name) = lower(?)";

                            SqlQuery qry = new SqlQuery&lt;AffinityKey&lt;Long&gt;, Person&gt;(Person.class, joinSql)
                                .setArgs("ApacheIgnite");

                            // Enable non-collocated joins for the query.
                            qry.setDistributedJoins(true);

                            // Execute the query to find out employees for specified organization.
                            System.out.println("Following people are 'ApacheIgnite' employees (distributed    join): " +
                                cache.query(qry).getAll());
                        </pre>
                    </div>
                    <div class="tab-pane" id="sql-fields-query">
                        <pre class="brush:java">
                            IgniteCache&lt;Long, Person&gt; cache = ignite.cache("personCache");

                            // Execute query to get names of all employees.
                            SqlFieldsQuery sql = new SqlFieldsQuery(
                                "select concat(firstName, ' ', lastName) from Person");

                            // Iterate over the result set.
                            try (QueryCursor&lt;List&lt;?&gt;&gt; cursor = cache.query(sql) {
                                for (List&lt;?&gt; row : cursor)
                                    System.out.println("personName=" + row.get(0));
                            }
                        </pre>
                    </div>
                </div>
            </div>
            <div class="code-examples">
                <div class="page-heading">DML Examples</div>
                <!-- Nav tabs -->
                <ul id="dml-examples" class="nav nav-tabs">
                    <li  class="active"><a href="#insert" aria-controls="profile" data-toggle="tab">INSERT</a></li>
                    <li><a href="#update" aria-controls="profile" data-toggle="tab">UPDATE</a></li>
                    <li><a href="#delete" aria-controls="profile" data-toggle="tab">DELETE</a></li>
                </ul>

                <!-- Tab panes -->
                <div class="tab-content">

                    <div class="tab-pane active" id="insert">
                        <pre class="brush:java">
                            IgniteCache&lt;Long, Person&gt; cache = ignite.cache("personCache");

                            cache.query(new SqlFieldsQuery("INSERT INTO Person(_key, firstName, " +
                                "lastName) values (1, 'John', 'Smith'), (5, 'Mary', 'Jones')"));
                        </pre>
                    </div>
                    <div class="tab-pane" id="update">
                        <pre class="brush:java">
                            IgniteCache&lt;Long, Person&gt; cache = ignite.cache("personCache");

                            cache.query(new SqlFieldsQuery("UPDATE Person set lastName = ? " +
                                "WHERE _key >= ?").setArgs("Jones", 2L));
                        </pre>
                    </div>
                    <div class="tab-pane" id="delete">
                        <pre class="brush:java">
                            IgniteCache&lt;Long, Person&gt; cache = ignite.cache("personCache");

                            cache.query(new SqlFieldsQuery("DELETE FROM Person " +
                                "WHERE _key >= ?").setArgs(2L));
                        </pre>
                    </div>
                </div>
            </div>
            <div class="page-heading">GitHub Examples</div>
            <p>
                Also see <a href="https://github.com/apache/ignite/blob/master/examples/src/main/java/org/apache/ignite/examples/datagrid/CacheQueryExample.java" target="github">SQL queries examples</a>
                and <a href="https://github.com/apache/ignite/blob/master/examples/src/main/java/org/apache/ignite/examples/datagrid/CacheQueryDmlExample.java" target="github"> DML example</a> available on GitHub.
            </p>
        </section>

        <section id="key-features" class="page-section">
            <h2>SQL Grid Features</h2>
            <table class="formatted" name="SQL Grid Features">
                <thead>
                <tr>
                    <th width="35%" class="left">Feature</th>
                    <th>Description</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td class="left">SQL Queries</td>
                    <td>
                        <p>
                            Ignite supports free-form SQL queries without any limitations. The SQL syntax is ANSI-99 compliant which means
                            that you can use any kind of SQL functions, aggregations, groupings or joins.
                        </p>
                        <p>
                            SQL queries in Ignite are fully distributed and perform in a fault-tolerant manner that guarantees
                            consistent query results regardless of cluster topology changes.
                        </p>
                        <div class="page-links">
                            <a href="http://apacheignite.gridgain.org/docs/sql-queries" target="docs">Docs for this Feature <i class="fa fa-angle-double-right"></i></a>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="left">Distributed DML</td>
                    <td>
                        <p>
                            Apache Ignite SQL Grid not only allows selecting data from the Data Grid, using <code>SQL ANSI-99</code> syntax,
                            but it also makes it possible to modify that data with well-known DML statements like <code>INSERT</code>, <code>MERGE</code>, <code>UPDATE</code>, and <code>DELETE</code>.
                        </p>
                        <div class="page-links">
                            <a href="http://apacheignite.gridgain.org/docs/dml" target="docs">Docs for this Feature <i class="fa fa-angle-double-right"></i></a>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="left">Collocated SQL Joins</td>
                    <td>
                        <p>
                            SQL joins can be performed on collocated data stored across multiple caches.
                            Since all the cache entries with the same affinity key are stored on the same processing node, these queries do not require expensive network trips to fetch the data from remote nodes, and hence, are extermely fast.
                            Joins can also be performed between <code>PARTITIONED</code> and <code>REPLICATED</code> caches.
                        </p>
                        <div class="page-links">
                            <a href="http://apacheignite.gridgain.org/docs/sql-queries#section-distributed-collocated-joins" target="docs">Docs for this Feature <i class="fa fa-angle-double-right"></i></a>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="left">Non-Collocated SQL Joins</td>
                    <td>
                        <p>
                            In Ignite, the default implementation of SQL join requires all the participating caches to be collocated. However,
                            for cases where it is extremely difficult to collocate all the data, Ignite offers non-collocated SQL joins.
                            Data can be distributed in any way across the cluster, and Ignite will figure out where to fetch the results from.
                        </p>
                        <div class="page-links">
                            <a href="http://apacheignite.gridgain.org/docs/sql-queries#section-distributed-non-collocated-joins" target="docs">Docs for this Feature <i class="fa fa-angle-double-right"></i></a>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td class="left">SQL Indexes</td>
                    <td>
                        <p>
                            For SQL queries, Ignite supports in-memory indexing to facilitate fast data lookups.
                            If you are caching your data in off-heap memory, then query indexes will also be cached in off-heap memory.
                            Ignite allows configuring single column indexes as well as group indexes. It also provides support for custom indexing.
                        </p>
                        <div  class="page-links">
                            <a href="http://apacheignite.gridgain.org/docs/indexes" target="docs">Docs for this feature <i class="fa fa-angle-double-right"></i></a>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="left">JDBC/ODBC Driver</td>
                    <td>
                        <p>
                            Ignite is shipped with <code>JDBC/ODBC Driver</code> that allows you to retrieve distributed data from
                            cache using standard SQL queries and JDBC/ODBC API.
                        </p>
                        <div class="page-links">
                            <a href="http://apacheignite.gridgain.org/docs/jdbc-driver" target="docs">Docs for this Feature <i class="fa fa-angle-double-right"></i></a>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="left">Geospacial Support</td>
                    <td>
                        <p>
                            Ignite supports querying and indexing geometry data types such as points, lines, and polygons considering the spatial relationship between these geometries.
                        </p>
                        <div class="page-links">
                            <a href="http://apacheignite.gridgain.org/docs/geospatial-queries" target="docs">Docs for this Feature <i class="fa fa-angle-double-right"></i></a>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="left">.NET & C++ Support</td>
                    <td>
                        <p>
                            Ignite.NET and Ignite C++ are buit on top of Ignite. This allows you to perform almost all SQL Grid operations including SQL and DML commands as well as distributed joins.
                        </p>
                        <div class="page-links">
                            <a href="https://apacheignite-net.readme.io/docs/sql-queries" target="docs">Docs for this Feature <i class="fa fa-angle-double-right"></i></a>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="left">Integrations</td>
                    <td>
                        <p>
                            Using the Ignite JDBC/ODBC driver, SQL Grid can integrate with a variety of tools, languages and technologies - <b>Apache Zeppelin</b>, <b>Tableau</b> and <b>PHP Data Objects</b>.
                        </p>
                        <div class="page-links">
                            <a href="https://apacheignite-tools.readme.io/docs" target="docs">Docs for this Feature <i class="fa fa-angle-double-right"></i></a>
                        </div>
                    </td>
                </tr>
                </tbody>
            </table>
        </section>
    </main>

    <!--#include virtual="/includes/footer.html" -->
</div>
<!--#include virtual="/includes/scripts.html" -->
</body>
</html>
